@* @{
    ViewData["Title"] = "Water Intake";
    Layout = "~/Views/Shared/_Layout.cshtml";

    double target = ViewBag.Target ?? 3.0;
    double consumed = ViewBag.Consumed ?? 0.0;
    double percent = (consumed / target) * 100;
}

<div class="mb-4">
    <h2 class="fw-bold text-white">
        <i class="fa-solid fa-droplet me-2"></i> Water Intake Tracker
    </h2>
    <p class="text-light opacity-75">
        Track your daily hydration and stay healthy 💧
    </p>
</div>

<div class="card p-4 col-md-6">

    <h5 class="fw-semibold mb-3">
        Daily Target: <span class="text-info">@target L</span>
    </h5>

    <h6>
        Consumed Today:
        <span class="fw-bold text-success">@consumed L</span>
    </h6>

    <!-- PROGRESS -->
    <div class="progress my-3" style="height:12px">
        <div class="progress-bar bg-info"
             style="width:@percent%">
        </div>
    </div>

    <small class="text-info">
        @Math.Round(percent, 0)% completed
    </small>

    <!-- MESSAGE -->
    <div class="mt-3">
        @if (percent < 40)
        {
            <span class="badge bg-warning text-dark">
                Drink more water 💦
            </span>
        }
        else if (percent < 100)
        {
            <span class="badge bg-primary">
                Keep going 👍
            </span>
        }
        else
        {
            <span class="badge bg-success">
                Target achieved 🎉
            </span>
        }
    </div>

    <!-- ACTION BUTTONS -->
    <form method="post" class="mt-4">
        <div class="d-flex gap-2">
            <button name="addWater" value="0.25" class="btn btn-outline-info w-100">
                +250 ml
            </button>

            <button name="addWater" value="0.5" class="btn btn-outline-info w-100">
                +500 ml
            </button>

            <button name="addWater" value="1" class="btn btn-outline-info w-100">
                +1 L
            </button>
        </div>
    </form>
</div> *@


@{
    ViewData["Title"] = "Water Intake";
    Layout = "~/Views/Shared/_Layout.cshtml";

    double target = ViewBag.Target ?? 3.0;
    double consumed = ViewBag.Consumed ?? 0.0;
    double percentage = (consumed / target) * 100;
}

<div class="mb-4">
    <h2 class="fw-bold text-white">
        <i class="fa-solid fa-droplet me-2"></i> Water Intake Tracker
    </h2>
    <p class="text-light opacity-75">
        Track your daily water consumption and stay hydrated 💧
    </p>
</div>

<div class="row justify-content-center">
    <div class="col-md-6">

        <div class="card p-4 text-center">

            <h4 class="fw-bold mb-3">
                @consumed / @target Liters
            </h4>

            <div class="progress mb-3">
                <div class="progress-bar bg-info"
                     style="width:@percentage%">
                </div>
            </div>

            <p class="mb-4">
                @if (consumed >= target)
                {
                    <span class="text-success fw-bold">
                        🎉 Daily goal completed! Great job!
                    </span>
                }
                else
                {
                    <span class="text-info">
                        Keep drinking water to reach your goal 💪
                    </span>
                }
            </p>

            <form asp-action="WaterIntake" method="post">
                <div class="d-flex justify-content-center gap-2">
                    <button name="addWater" value="0.25"
                            class="btn btn-outline-info">
                        +250 ml
                    </button>

                    <button name="addWater" value="0.5"
                            class="btn btn-outline-info">
                        +500 ml
                    </button>

                    <button name="addWater" value="1"
                            class="btn btn-outline-info">
                        +1 Liter
                    </button>
                </div>
            </form>

        </div>

    </div>
</div>
